<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Olymbia S21 - {{Username}}</title>
    <link rel="icon" href="static/images/download.png">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<style>
  body{
    font-family: "DM Sans", sans-serif;
  }
  body, html, #wrapper {
    width: 100%;
}
@media print {
      body, html, #wrapper {
          width: 100%;
      }
}
.myDIV{
  display: block;
}

</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
   <script>
  $(window).load(function(){
    $("#Progressbar").fadeOut(3000);
    $("placeholder col-4").fadeOut(9000);
  })
</script>
<style>
  #Progressbar{
    position: fixed;
    height: 100%;
    width: 100%;
    top: 0%;
    left: 0%;
    z-index: 1000%;
    background: url("{{url_for('static',filename = 'images/4.gif')}}") 50% 50% no-repeat rgb(248, 246, 246);
    opacity: 100%;

  }
</style>

</head>
<body>


  <div id="Progressbar">

  </div>


  <div class="fixed-top" id="myDIV">
  <nav class="py-2 border-bottom" style="backdrop-filter: blur(25px);background-color: rgba(225, 225, 225, 0.3);">
    <div class="container d-flex flex-wrap">
      <ul class="nav me-auto">
        <li class="nav-item"><a href="/" class="nav-link link-dark px-2 active" aria-current="page">Home</a></li>
        <li class="nav-item"><a href="/DDH_S21/Dashboard" class="nav-link link-dark px-2">Dashboard</a></li>
        <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Analyse</a></li>
        <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Send Statics</a></li>
        <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Logout</a></li>
      </ul>
      <ul class="nav">

        <!--li class="nav-item"><a href="#" class="nav-link link-dark px-2">Login</a></li>
        <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Sign up</a></li---->
        
          <li class="nav-item"><a href="#" class="nav-link link-dark px-2">Welcome, {{Username}}</a></li>
        

      </ul>
    </div>
  </nav>
  <nav class="navbar navbar-light" style="backdrop-filter: blur(15px);background-color: rgba(225, 225, 225, 0.3);">
    <div class="container-fluid">
      <a class="navbar-brand fw-bolder text-danger" href="/DDH_S21/Dashboard">Olymbia S21</a>
     
      <div class="text-dark">
        <strong><svg xmlns="http://www.w3.org/2000/svg"  width="16" height="16" fill="currentColor" class="bi bi-activity" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"/>
        </svg>&nbsp;Monitor Portal</strong>
      </div>

      <form class="d-flex" action="" method="post">
        <select class="form-select me-2" name="BatchNo" aria-label="Default selesct example">
          {% if BatchNo %}
            <option value="{{BatchNo}}">Current Batch: {{BatchNo}}</option>
          {% else %}
          <option selected value="">Select batch No</option>
          {% endif %}
          {%  for info in BTList %}
          <option value="{{info[0]}}">BatchNo: {{info[0]}}</option>
          {% endfor %}
        </select>
        <button  type="submit" class="btn btn-outline-dark" >Search</button>
      </form>
    </div>
  </nav>
  </div>

<div class="container d-flex justify-content-between" style="margin-top: 150px;">
 <h1 class="display-1">BatchNo: <b class="text-muted animate__animated animate__tada">{{BatchNo}}</b></h1>
 <p class="fs-4 text-success fw-bolder animate__animated animate__tada">{{ProcessType[0]}}</p>
</div>


{% if sum > 0 %}
<div class="toast m-3" role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-bs-autohide="true" data-bs-delay="10000">
  <div class="toast-header">
    
    <strong class="me-auto">Notification</strong>
    <small>Just Now</small>
    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
  <div class="toast-body text-light bg-success">
    <b>{{sum}}</b> Is Remaining
  </div>
</div>
{% else %}

<div class="toast m-3 " role="alert" aria-live="assertive" aria-atomic="true" class="toast" data-bs-autohide="true" data-bs-delay="10000">
  <div class="toast-header">
    <strong class="me-auto">Notification</strong>
    <small>Just Now</small>
    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
  <div class="toast-body text-light bg-danger">
    Currently there is No Run Listed
  </div>
</div>

{% endif %}
<div class="container mt-4">
  <div class="row ">
    <div class="col-md-4 ">
        <div class="bg-light shadow rounded text-dark text-center m-3">
          <small class="p-2">Total Count</small >
         <h1 class="display-1 animate__animated animate__tada">{{TC[0]}}</h1>
        </div>
    </div>
    <div class="col-md-4">
      <div class="bg-primary shadow rounded text-light text-center m-3">
       <small class="p-2">Email Completed</small >   
       <h1 class="display-1 animate__animated animate__tada">{{EC[0]}}</h1>
      </div>
  </div>
  <div class="col-md-4">
    <div class="bg-light shadow rounded text-dark text-center m-3">
     <small class="p-2">No Data </small >   
     <h1 class="display-1 animate__animated animate__tada" data-bs-toggle="tooltip" data-bs-placement="top"
     title="List:{
      {%  for data in NoList %}
       {{data[0]}};
      {% endfor %}
     }">{{NO[0]}}</h1>
    </div>
</div>

<div class="col-md-4">
  <div class="bg-danger shadow rounded text-light text-center m-3">
   <small class="p-2">System S21 Err </small >   
   <h1 class="display-1 animate__animated animate__tada" data-bs-toggle="tooltip" data-bs-placement="top"
   title="List:{
    {%  for data in ERRList %}
     {{data[0]}};
    {% endfor %}
   }">{{ERR[0]}}</h1>
  </div>
</div>
<div class="col-md-4">
  <div class="bg-secondary shadow rounded text-light text-center m-3">
   <small class="p-2">OutQ Failed </small >   
   <h1 class="display-1 animate__animated animate__tada" data-bs-toggle="tooltip" data-bs-placement="top"
   title="List:{
    {%  for data in OUTLIST %}
     {{data[0]}};
    {% endfor %}
   }">{{OUT[0]}}</h1>
  </div>
</div>
<div class="col-md-4">
  <div class="bg-warning shadow rounded text-dark text-center m-3">
   <small class="p-2">JBA Completed </small >   
   <h1 class="display-1 animate__animated animate__tada">{{JC[0]}}</h1>
  </div>
</div>
<div class="col-md-4">
  <div class="bg-danger shadow rounded text-light text-center m-3">
   <small class="p-2">JBA Invalid Credentials</small >   
   <h1 class="display-1 animate__animated animate__tada" data-bs-toggle="tooltip" data-bs-placement="top"
   title="
   List:{
    {%  for data in JICList %}
     {{data[0]}};
    {% endfor %}
   }">{{JIC[0]}}</h1>
  </div>
</div>
  </div>  
</div>



    <div class="mt-5">
      <div class="container m-2">
        <div class="text-end" id="myDIV" >
          <button type="submit" class="btn btn-success animate__animated animate__backInLeft" onclick="myFunction()">Export Data</button>

          <script>
            function myFunction() {
              
              document.getElementById("myDIV").style.display = "none";
              window.print();
            }
            </script>
        </div>
       </div>
        <table class="table table-bordered mt-5 animate__animated animate__fadeIn animate__delay-5s">
            <thead>
              <tr>
                
                <th scope="col">BatchNo</th>
                <th scope="col">Country</th>
                <th scope="col">ProcessType</th>
                <th scope="col">Status</th>
                <th scope="col">Email_Count</th>
                <th scope="col">Process File Time</th>
                <th scope="col">Email Time</th>
                <th scope="col">Email_Endon</th>
                <th scope="col">GL_Message</th>
                <th scope="col">CreatedOn</th>
                <th scope="col">End On</th>
              </tr>
            </thead>
            <tbody id="reload">
{%  for data in row %}
              <tr>
                
                <td>{{ data[1] }}</td>
                <td>{{data[2]}}</td>
                <td>{{data[3]}}</td>
                <td>{{data[6]}}</td>
                <td>{{data[10]}}</td>
                <td>{{data[11]}}</td>
                <td>{{data[12]}}</td>
                <td>{{data[9]}}</td>
                <td>{{data[7]}}</td>
                <td>{{data[4]}}</td>
                <td>{{data[5]}}</td>
              </tr>
{% endfor %}

            </tbody>
          </table>
    </div>

    
    
<footer>
  <p class="text-center px-2 text-muted">Copyrights 2022 by Olymbia S21 Process Automation - Developer Manickavasan</p>
  
</footer>


  
<script>
  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})
</script>

<script>
  window.onload = (alert) =>{
    let myAlert = document.querySelector('.toast');
    let BeAlert = new bootstrap.Toast(myAlert);
    BeAlert.show();
  }
</script>

</body>
</html>